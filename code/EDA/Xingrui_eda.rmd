
First join some dataset together

```{r}
library(readr)
library(tidyverse)

heat_check <- read_csv("../../data/heat_check_tournament_index.csv")
big_dance <- read_csv("../../data/Big_Dance_CSV.csv")
kenpom_data <- read_csv("../../data/kenpom_tournament_clean.csv")
tournament_matchups <- read_csv("../../data/tournament_matchups.csv")

# Inspect the data
head(heat_check)
head(big_dance)
head(kenpom_data)
head(tournament_matchups)
```


```{r}
heat_check <- heat_check %>% rename(Season = YEAR)
big_dance <- big_dance %>% rename(Season = Year)
names(big_dance) <- str_replace(names(big_dance), "\\...\\d+$", "")
tournament_matchups <- tournament_matchups %>% rename(Season = YEAR)
kenpom_data <- kenpom_data %>%
  select(-1)
```

```{r}
seed_expectations <- c(`1`=4, `2`=4, `3`=3, `4`=3, `5`=2, `6`=2, `7`=2, `8`=2, `9`=1, `10`=1, `11`=1, `12`=1, `13`=0, `14`=0, `15`=0, `16`=0)

# Analyze upsets based on PATH difficulty
heat_check <- heat_check %>%
  mutate(Upset = ROUND > seed_expectations[as.character(SEED)]) %>%
  mutate(Upset = ifelse(Upset, "Upset", "No Upset"))

# Visualizing the distribution of PATH difficulty for Upsets
ggplot(heat_check, aes(x=Upset, y=PATH, fill=Upset)) +
  geom_violin(trim=FALSE) +
  labs(title="Distribution of Path Difficulty Based on Upset Status", x="Upset Status", y="Path Difficulty") +
  theme_minimal()
```




